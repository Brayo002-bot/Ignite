<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My Profile - Ignite SACCO</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-orange-50 min-h-screen p-6">
  <div class="max-w-3xl mx-auto bg-white p-6 rounded shadow">
    <h2 class="text-2xl font-bold text-orange-700 mb-6">üë§ My Profile</h2>

    <div class="flex flex-col md:flex-row items-center md:items-start gap-6">
      <!-- Profile Picture -->
      <div class="relative w-40 h-40">
        <img id="profilePic" src="https://via.placeholder.com/150" alt="Profile Picture"
          class="w-40 h-40 object-cover rounded-full border shadow" />
        <input type="file" id="uploadPic" accept="image/*" class="hidden" />
        
        <div class="absolute bottom-0 left-1/2 transform -translate-x-1/2 flex space-x-2 mt-2">
          <button onclick="document.getElementById('uploadPic').click()"
            class="bg-orange-600 text-white text-sm px-3 py-1 rounded hover:bg-orange-700">Change</button>
          <button onclick="removePhoto()"
            class="bg-red-500 text-white text-sm px-3 py-1 rounded hover:bg-red-600">Remove</button>
        </div>
      </div>

      <!-- User Info -->
      <div class="flex-1 space-y-4 w-full">
        <div>
          <label class="block text-gray-700 font-medium mb-1">Full Name</label>
          <input type="text" id="name" value="Brian Otieno"
            class="w-full border rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400" />
        </div>

        <div>
          <label class="block text-gray-700 font-medium mb-1">Phone Number</label>
          <input type="tel" id="phone" value="0712345678"
            class="w-full border rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400" />
        </div>

        <div>
          <label class="block text-gray-700 font-medium mb-1">Email Address</label>
          <input type="email" id="email" value="brian@example.com"
            class="w-full border rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400" />
        </div>
      </div>
    </div>

    <!-- Password Update Section -->
    <div class="mt-10">
      <h3 class="text-xl font-semibold text-orange-700 mb-4">üîí Update Password</h3>

      <div class="space-y-4">
        <div>
          <label class="block text-gray-700 font-medium mb-1">Current Password</label>
          <input type="password" id="currentPassword"
            class="w-full border rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400" />
        </div>

        <div>
          <label class="block text-gray-700 font-medium mb-1">New Password</label>
          <input type="password" id="newPassword"
            class="w-full border rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400" />
        </div>

        <div>
          <label class="block text-gray-700 font-medium mb-1">Confirm New Password</label>
          <input type="password" id="confirmPassword"
            class="w-full border rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400" />
        </div>

        <button onclick="updatePassword()"
          class="bg-blue-600 text-white px-5 py-2 rounded hover:bg-blue-700">
          Update Password
        </button>
      </div>
    </div>

    <!-- Footer Buttons -->
    <div class="mt-8 flex justify-between">
      <button onclick="saveProfile()"
        class="bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700">Save Changes</button>
      <a href="dashboard.html"
        class="bg-gray-300 text-gray-800 px-5 py-2 rounded hover:bg-gray-400">Back to Dashboard</a>
    </div>
  </div>

  <script>
    const profilePic = document.getElementById("profilePic");
    const uploadInput = document.getElementById("uploadPic");

    uploadInput.addEventListener("change", function () {
      const file = this.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          profilePic.src = e.target.result;
        };
        reader.readAsDataURL(file);
      }
    });

    function removePhoto() {
      profilePic.src = "https://via.placeholder.com/150";
    }

    function saveProfile() {
      // TODO: Connect to backend
      alert("‚úÖ Profile details saved successfully.");
    }

    function updatePassword() {
      const current = document.getElementById("currentPassword").value;
      const newPass = document.getElementById("newPassword").value;
      const confirm = document.getElementById("confirmPassword").value;

      if (!current || !newPass || !confirm) {
        alert("‚ö†Ô∏è All password fields are required.");
        return;
      }

      if (newPass !== confirm) {
        alert("‚ùå New passwords do not match.");
        return;
      }

      if (newPass.length < 6) {
        alert("‚ö†Ô∏è Password must be at least 6 characters.");
        return;
      }

      // TODO: Connect to backend to update password
      alert("üîê Password updated successfully.");
    }
  </script>
</body>
</html>